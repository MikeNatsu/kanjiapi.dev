<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" type="text/css" href="reset.css">
	<link rel="stylesheet" type="text/css" href="styling.css">
  <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c" rel="stylesheet">
</head>
<body class="vertical-flex">
  <header class="vertical-flex">
    <h1>漢字</h1>
    <h1>kanjiapi.dev</h1>
  </header>
  <div id="content" class="vertical-flex">
    <div id="api-test-url">
      <label for="url-input">https://kanjiapi.dev/</label>
      <input id="url-input" type="text"></input>
    </div>
    <div id="url-hint" class="left-text">
      Try
      <span onclick="updateInput(this.textContent)">kanji/山</span>
      or
      <span onclick="updateInput(this.textContent)">reading/クウ</span>
    </div>
    <hr>
    <div class="left-text">Resource:</div>
    <pre id="api-response">
    </pre>
  </div>

  <script>
    const apiUrlInput = document.getElementById('url-input');
    apiUrlInput.onchange = handleUrlChange;

    updateInput('kanji/字');
    
    function updateInput(text) {
        apiUrlInput.value = text;
        apiUrlInput.dispatchEvent(new Event('change'));
    }

    function handleUrlChange(e) {
      fetchData(e.target.value)
        .then(data => {
          const display = document.getElementById('api-response');
          display.textContent = JSON.stringify(data, null, 2);
        });
    }

    function fetchData(url) {
      return fetch(url)
        .then(response => response.json());
    }
  </script>
</body>
